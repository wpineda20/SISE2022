(self["webpackChunk"] = self["webpackChunk"] || []).push([["resources_js_components_cuscatlan_actions-cusca_methods_js-node_modules_process_browser_js"],{

/***/ "./resources/js/apis/actionsCuscaApi.js":
/*!**********************************************!*\
  !*** ./resources/js/apis/actionsCuscaApi.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);

var actionsCuscaApi = axios__WEBPACK_IMPORTED_MODULE_0___default().create({
  baseURL: "/api/actionsCusca"
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (actionsCuscaApi);

/***/ }),

/***/ "./resources/js/apis/monthApi.js":
/*!***************************************!*\
  !*** ./resources/js/apis/monthApi.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);

var monthApi = axios__WEBPACK_IMPORTED_MODULE_0___default().create({
  baseURL: "/api/month"
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (monthApi);

/***/ }),

/***/ "./resources/js/apis/resultsCuscaApi.js":
/*!**********************************************!*\
  !*** ./resources/js/apis/resultsCuscaApi.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);

var resultsCuscaApi = axios__WEBPACK_IMPORTED_MODULE_0___default().create({
  baseURL: "/api/resultsCusca"
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (resultsCuscaApi);

/***/ }),

/***/ "./resources/js/apis/unitApi.js":
/*!**************************************!*\
  !*** ./resources/js/apis/unitApi.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);

var unitApi = axios__WEBPACK_IMPORTED_MODULE_0___default().create({
  baseURL: "/api/unit"
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (unitApi);

/***/ }),

/***/ "./resources/js/apis/userApi.js":
/*!**************************************!*\
  !*** ./resources/js/apis/userApi.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);

var userApi = axios__WEBPACK_IMPORTED_MODULE_0___default().create({
  baseURL: "/api/user"
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (userApi);

/***/ }),

/***/ "./resources/js/components/cuscatlan/actions-cusca/methods.js":
/*!********************************************************************!*\
  !*** ./resources/js/components/cuscatlan/actions-cusca/methods.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _apis_userApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../apis/userApi */ "./resources/js/apis/userApi.js");
/* harmony import */ var _apis_resultsCuscaApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../apis/resultsCuscaApi */ "./resources/js/apis/resultsCuscaApi.js");
/* harmony import */ var _apis_monthApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../apis/monthApi */ "./resources/js/apis/monthApi.js");
/* harmony import */ var _apis_unitApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../apis/unitApi */ "./resources/js/apis/unitApi.js");
/* harmony import */ var _apis_actionsCuscaApi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../apis/actionsCuscaApi */ "./resources/js/apis/actionsCuscaApi.js");
/* harmony import */ var _libs_function__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../libs/function */ "./resources/js/libs/function.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, "throw" === context.method) { if (delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel; context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }






 //import moment from "moment"

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  initialize: function initialize() {
    var _this = this;

    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
      var requests, responses;
      return _regeneratorRuntime().wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this.loading = true;
              _this.records = [];
              _this.recordsFiltered = [];
              requests = [_apis_actionsCuscaApi__WEBPACK_IMPORTED_MODULE_4__["default"].get(), _apis_userApi__WEBPACK_IMPORTED_MODULE_0__["default"].get(null, {
                params: {
                  skip: 0,
                  take: 200
                }
              }), _apis_resultsCuscaApi__WEBPACK_IMPORTED_MODULE_1__["default"].get(), _apis_monthApi__WEBPACK_IMPORTED_MODULE_2__["default"].get(), _apis_userApi__WEBPACK_IMPORTED_MODULE_0__["default"].get("/actualUserRole"), _apis_userApi__WEBPACK_IMPORTED_MODULE_0__["default"].post("/actualUser"), _apis_unitApi__WEBPACK_IMPORTED_MODULE_3__["default"].get()];
              _context.next = 6;
              return Promise.all(requests)["catch"](function (error) {
                _this.updateAlert(true, "No fue posible obtener los registros.", "fail");

                _this.redirectSessionFinished = _libs_function__WEBPACK_IMPORTED_MODULE_5__["default"].verifySessionFinished(error.response.status, 401);
              });

            case 6:
              responses = _context.sent;

              if (responses && responses[0].data.message == "success") {
                _this.records = responses[0].data.actionsCusca;
                _this.users = responses[1].data.users;
                _this.resultsCusca = responses[2].data.resultsCusca;
                _this.months = responses[3].data.months;
                _this.editedItem.months = _this.months;
                _this.actualUser = responses[5].data.user;
                _this.units = responses[6].data.units;
                _this.recordsFiltered = _this.records;
              }

              _this.loading = false;

            case 9:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }))();
  },
  editItem: function editItem(item) {
    this.dialog = true;
    this.editedIndex = this.recordsFiltered.indexOf(item);
    this.editedItem = Object.assign({}, item);
  },
  deleteItem: function deleteItem(item) {
    this.editedIndex = this.recordsFiltered.indexOf(item);
    this.editedItem = Object.assign({}, item);
    this.dialogDelete = true;
  },
  deleteItemConfirm: function deleteItemConfirm() {
    var _this2 = this;

    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
      var res;
      return _regeneratorRuntime().wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.next = 2;
              return _apis_actionsCuscaApi__WEBPACK_IMPORTED_MODULE_4__["default"]["delete"]("/".concat(_this2.editedItem.id))["catch"](function (error) {
                _this2.updateAlert(true, "No fue posible eliminar el registros.", "fail");

                _this2.close();
              });

            case 2:
              res = _context2.sent;

              if (res.data.message == "success") {
                _this2.redirectSessionFinished = _libs_function__WEBPACK_IMPORTED_MODULE_5__["default"].verifySessionFinished(res.status, 200);

                _this2.updateAlert(true, "Registro eliminado.", "success");
              } else {
                _this2.updateAlert(true, "No se pudo eliminar el registro.", "fail");
              }

              _this2.initialize();

              _this2.closeDelete();

            case 6:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }))();
  },
  close: function close() {
    var _this3 = this;

    this.dialog = false;
    this.$nextTick(function () {
      _this3.editedItem = _this3.defaultItem;
      _this3.editedIndex = -1;
    });
  },
  closeDelete: function closeDelete() {
    var _this4 = this;

    this.$nextTick(function () {
      _this4.editedItem = _this4.defaultItem;
      _this4.editedIndex = -1;
    });
    this.dialogDelete = false;
  },
  save: function save() {
    var _this5 = this;

    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
      var res, _res;

      return _regeneratorRuntime().wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              _this5.$v.$touch();

              if (!(_this5.$v.editedItem.$invalid || _this5.numberMonths())) {
                _context3.next = 4;
                break;
              }

              _this5.updateAlert(true, "Campos obligatorios.", "fail");

              return _context3.abrupt("return");

            case 4:
              if (!(_this5.editedIndex > -1)) {
                _context3.next = 12;
                break;
              }

              _context3.next = 7;
              return _apis_actionsCuscaApi__WEBPACK_IMPORTED_MODULE_4__["default"].put("/".concat(_this5.editedItem.id), _this5.editedItem)["catch"](function (error) {
                _this5.updateAlert(true, "No fue posible actualizar el registro.", "fail");

                _this5.close();

                _this5.redirectSessionFinished = _libs_function__WEBPACK_IMPORTED_MODULE_5__["default"].verifySessionFinished(error.response.status, 419);
              });

            case 7:
              res = _context3.sent;

              if (res.data.message == "success") {
                _this5.updateAlert(true, "Registro actualizado correctamente.", "success");
              }

              if (res.data.message == "reason") {
                _this5.updateAlert(true, "El usuario no posee los permisos suficientes para esta acción.", "reason");
              }

              _context3.next = 16;
              break;

            case 12:
              _context3.next = 14;
              return _apis_actionsCuscaApi__WEBPACK_IMPORTED_MODULE_4__["default"].post(null, _this5.editedItem)["catch"](function (error) {
                _this5.updateAlert(true, "No fue posible crear el registro.", "fail"); // this.close();

              });

            case 14:
              _res = _context3.sent;

              if (_res.data.message == "success") {
                _this5.updateAlert(true, "Registro almacenado correctamente.", "success");
              }

            case 16:
              _this5.close();

              _this5.initialize();

            case 18:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee3);
    }))();
  },
  searchValue: function searchValue() {
    var _this6 = this;

    this.recordsFiltered = [];

    if (this.search != "") {
      this.records.forEach(function (record) {
        var searchConcat = "";

        for (var i = 0; i < record.action_description.length; i++) {
          searchConcat += record.action_description[i].toUpperCase();

          if (searchConcat === _this6.search.toUpperCase() && !_this6.recordsFiltered.some(function (rec) {
            return rec == record;
          })) {
            _this6.recordsFiltered.push(record);
          }
        }
      });
      return;
    }

    this.recordsFiltered = this.records;
  },
  updateAlert: function updateAlert() {
    var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "Alerta";
    var event = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "success";
    this.textAlert = text;
    this.alertEvent = event;
    this.showAlert = show;
  },
  updateTimeOut: function updateTimeOut(event) {
    this.redirectSessionFinished = event;
  },
  openModal: function openModal() {
    this.dialog = true;
    this.editedItem.result_description = this.resultsCusca[0].result_description;
    this.editedItem.user_name = this.actualUser.user_name;
    this.editedItem.action_description = "";
    this.editedItem.responsable_name = ""; // this.editedItem.annual_actions = 0;

    this.editedItem.year_goal_actions = 0;
    this.editedItem.budget_executed = 0;
    this.editedItem.verification_method = "";
    this.editedItem.data_source = "";
    this.editedItem.months = this.months;
    this.editedItem.months.forEach(function (month) {
      return month.value = false;
    });
    this.editedItem.unit_name = this.units[0].unit_name; //const month_name = moment().format("MMMM");
    //this.editedItem.month_name = month_name.charAt(0).toUpperCase() + month_name.slice(1);

    this.$v.$reset();
  },
  numberMonths: function numberMonths() {
    this.validation.months.error = !this.editedItem.months.some(function (element) {
      return element.value == true;
    }); // this.editedItem.annual_actions = this.editedItem.months.filter(
    //     (element) => element.value
    // ).length;
  }
});

/***/ }),

/***/ "./resources/js/libs/function.js":
/*!***************************************!*\
  !*** ./resources/js/libs/function.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  verifySessionFinished: function verifySessionFinished(status) {
    var code = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 200;
    console.log(status);

    if (status == 419 || status == 401) {
      console.log("L" + status);
      return true;
    }

    return false;
  }
});

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/***/ ((module) => {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianMvcmVzb3VyY2VzX2pzX2NvbXBvbmVudHNfY3VzY2F0bGFuX2FjdGlvbnMtY3VzY2FfbWV0aG9kc19qcy1ub2RlX21vZHVsZXNfcHJvY2Vzc19icm93c2VyX2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUEsSUFBTUMsZUFBZSxHQUFHRCxtREFBQSxDQUFhO0VBQ2pDRyxPQUFPLEVBQUU7QUFEd0IsQ0FBYixDQUF4QjtBQUlBLGlFQUFlRixlQUFmOzs7Ozs7Ozs7Ozs7Ozs7OztBQ05BO0FBRUEsSUFBTUcsUUFBUSxHQUFHSixtREFBQSxDQUFhO0VBQzFCRyxPQUFPLEVBQUU7QUFEaUIsQ0FBYixDQUFqQjtBQUlBLGlFQUFlQyxRQUFmOzs7Ozs7Ozs7Ozs7Ozs7OztBQ05BO0FBRUEsSUFBTUMsZUFBZSxHQUFHTCxtREFBQSxDQUFhO0VBQ2pDRyxPQUFPLEVBQUU7QUFEd0IsQ0FBYixDQUF4QjtBQUlBLGlFQUFlRSxlQUFmOzs7Ozs7Ozs7Ozs7Ozs7OztBQ05BO0FBRUEsSUFBTUMsT0FBTyxHQUFHTixtREFBQSxDQUFhO0VBQ3pCRyxPQUFPLEVBQUU7QUFEZ0IsQ0FBYixDQUFoQjtBQUlBLGlFQUFlRyxPQUFmOzs7Ozs7Ozs7Ozs7Ozs7OztBQ05BO0FBRUEsSUFBTUMsT0FBTyxHQUFHUCxtREFBQSxDQUFhO0VBQ3pCRyxPQUFPLEVBQUU7QUFEZ0IsQ0FBYixDQUFoQjtBQUlBLGlFQUFlSSxPQUFmOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrQ0NMQTs7Ozs7O0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtDQUVBOztBQUVBLGlFQUFlO0VBQ0xFLFVBREssd0JBQ1E7SUFBQTs7SUFBQTtNQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FDZixLQUFJLENBQUNDLE9BQUwsR0FBZSxJQUFmO2NBQ0EsS0FBSSxDQUFDQyxPQUFMLEdBQWUsRUFBZjtjQUNBLEtBQUksQ0FBQ0MsZUFBTCxHQUF1QixFQUF2QjtjQUVJQyxRQUxXLEdBS0EsQ0FDWFos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Q0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNDQUFzQzs7QUFFdEM7QUFDQTtBQUNBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYXBpcy9hY3Rpb25zQ3VzY2FBcGkuanMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2FwaXMvbW9udGhBcGkuanMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2FwaXMvcmVzdWx0c0N1c2NhQXBpLmpzIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcGlzL3VuaXRBcGkuanMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2FwaXMvdXNlckFwaS5qcyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9jdXNjYXRsYW4vYWN0aW9ucy1jdXNjYS9tZXRob2RzLmpzIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9saWJzL2Z1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5jb25zdCBhY3Rpb25zQ3VzY2FBcGkgPSBheGlvcy5jcmVhdGUoe1xuICAgIGJhc2VVUkw6IFwiL2FwaS9hY3Rpb25zQ3VzY2FcIixcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBhY3Rpb25zQ3VzY2FBcGk7IiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5jb25zdCBtb250aEFwaSA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgYmFzZVVSTDogXCIvYXBpL21vbnRoXCIsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbW9udGhBcGk7XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmNvbnN0IHJlc3VsdHNDdXNjYUFwaSA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgYmFzZVVSTDogXCIvYXBpL3Jlc3VsdHNDdXNjYVwiLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJlc3VsdHNDdXNjYUFwaTtcbiIsImltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcblxuY29uc3QgdW5pdEFwaSA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgYmFzZVVSTDogXCIvYXBpL3VuaXRcIixcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB1bml0QXBpO1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5jb25zdCB1c2VyQXBpID0gYXhpb3MuY3JlYXRlKHtcbiAgICBiYXNlVVJMOiBcIi9hcGkvdXNlclwiLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHVzZXJBcGk7XG4iLCJpbXBvcnQgdXNlckFwaSBmcm9tIFwiLi4vLi4vLi4vYXBpcy91c2VyQXBpXCI7XG5pbXBvcnQgcmVzdWx0c0N1c2NhQXBpIGZyb20gXCIuLi8uLi8uLi9hcGlzL3Jlc3VsdHNDdXNjYUFwaVwiO1xuaW1wb3J0IG1vbnRoQXBpIGZyb20gXCIuLi8uLi8uLi9hcGlzL21vbnRoQXBpXCI7XG5pbXBvcnQgdW5pdEFwaSBmcm9tIFwiLi4vLi4vLi4vYXBpcy91bml0QXBpXCI7XG5pbXBvcnQgYWN0aW9uc0N1c2NhQXBpIGZyb20gXCIuLi8uLi8uLi9hcGlzL2FjdGlvbnNDdXNjYUFwaVwiO1xuaW1wb3J0IGxpYiBmcm9tIFwiLi4vLi4vLi4vbGlicy9mdW5jdGlvblwiO1xuLy9pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWNvcmRzID0gW107XG4gICAgICAgIHRoaXMucmVjb3Jkc0ZpbHRlcmVkID0gW107XG5cbiAgICAgICAgbGV0IHJlcXVlc3RzID0gW1xuICAgICAgICAgICAgYWN0aW9uc0N1c2NhQXBpLmdldCgpLFxuICAgICAgICAgICAgdXNlckFwaS5nZXQobnVsbCwge1xuICAgICAgICAgICAgICAgIHBhcmFtczogeyBza2lwOiAwLCB0YWtlOiAyMDAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcmVzdWx0c0N1c2NhQXBpLmdldCgpLFxuICAgICAgICAgICAgbW9udGhBcGkuZ2V0KCksXG4gICAgICAgICAgICB1c2VyQXBpLmdldChcIi9hY3R1YWxVc2VyUm9sZVwiKSxcbiAgICAgICAgICAgIHVzZXJBcGkucG9zdChcIi9hY3R1YWxVc2VyXCIpLFxuICAgICAgICAgICAgdW5pdEFwaS5nZXQoKSxcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IHJlc3BvbnNlcyA9IGF3YWl0IFByb21pc2UuYWxsKHJlcXVlc3RzKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWxlcnQoXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICBcIk5vIGZ1ZSBwb3NpYmxlIG9idGVuZXIgbG9zIHJlZ2lzdHJvcy5cIixcbiAgICAgICAgICAgICAgICBcImZhaWxcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMucmVkaXJlY3RTZXNzaW9uRmluaXNoZWQgPSBsaWIudmVyaWZ5U2Vzc2lvbkZpbmlzaGVkKFxuICAgICAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICA0MDFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZXMgJiYgcmVzcG9uc2VzWzBdLmRhdGEubWVzc2FnZSA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRzID0gcmVzcG9uc2VzWzBdLmRhdGEuYWN0aW9uc0N1c2NhO1xuICAgICAgICAgICAgdGhpcy51c2VycyA9IHJlc3BvbnNlc1sxXS5kYXRhLnVzZXJzO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzQ3VzY2EgPSByZXNwb25zZXNbMl0uZGF0YS5yZXN1bHRzQ3VzY2E7XG4gICAgICAgICAgICB0aGlzLm1vbnRocyA9IHJlc3BvbnNlc1szXS5kYXRhLm1vbnRocztcbiAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbS5tb250aHMgPSB0aGlzLm1vbnRocztcbiAgICAgICAgICAgIHRoaXMuYWN0dWFsVXNlciA9IHJlc3BvbnNlc1s1XS5kYXRhLnVzZXI7XG4gICAgICAgICAgICB0aGlzLnVuaXRzID0gcmVzcG9uc2VzWzZdLmRhdGEudW5pdHM7XG5cbiAgICAgICAgICAgIHRoaXMucmVjb3Jkc0ZpbHRlcmVkID0gdGhpcy5yZWNvcmRzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICBlZGl0SXRlbShpdGVtKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMucmVjb3Jkc0ZpbHRlcmVkLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgIH0sXG5cbiAgICBkZWxldGVJdGVtKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMucmVjb3Jkc0ZpbHRlcmVkLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWU7XG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZUl0ZW1Db25maXJtKCkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhY3Rpb25zQ3VzY2FBcGlcbiAgICAgICAgICAgIC5kZWxldGUoYC8ke3RoaXMuZWRpdGVkSXRlbS5pZH1gKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQWxlcnQoXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwiTm8gZnVlIHBvc2libGUgZWxpbWluYXIgZWwgcmVnaXN0cm9zLlwiLFxuICAgICAgICAgICAgICAgICAgICBcImZhaWxcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlcy5kYXRhLm1lc3NhZ2UgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgIHRoaXMucmVkaXJlY3RTZXNzaW9uRmluaXNoZWQgPSBsaWIudmVyaWZ5U2Vzc2lvbkZpbmlzaGVkKFxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMsXG4gICAgICAgICAgICAgICAgMjAwXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGVydCh0cnVlLCBcIlJlZ2lzdHJvIGVsaW1pbmFkby5cIiwgXCJzdWNjZXNzXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGVydCh0cnVlLCBcIk5vIHNlIHB1ZG8gZWxpbWluYXIgZWwgcmVnaXN0cm8uXCIsIFwiZmFpbFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB0aGlzLmNsb3NlRGVsZXRlKCk7XG4gICAgfSxcblxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSB0aGlzLmRlZmF1bHRJdGVtO1xuICAgICAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IC0xO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgY2xvc2VEZWxldGUoKSB7XG4gICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IHRoaXMuZGVmYXVsdEl0ZW07XG4gICAgICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gZmFsc2U7XG4gICAgfSxcblxuICAgIGFzeW5jIHNhdmUoKSB7XG4gICAgICAgIHRoaXMuJHYuJHRvdWNoKCk7XG4gICAgICAgIGlmICh0aGlzLiR2LmVkaXRlZEl0ZW0uJGludmFsaWQgfHwgdGhpcy5udW1iZXJNb250aHMoKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGVydCh0cnVlLCBcIkNhbXBvcyBvYmxpZ2F0b3Jpb3MuXCIsIFwiZmFpbFwiKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYWN0aW9uc0N1c2NhQXBpXG4gICAgICAgICAgICAgICAgLnB1dChgLyR7dGhpcy5lZGl0ZWRJdGVtLmlkfWAsIHRoaXMuZWRpdGVkSXRlbSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQWxlcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJObyBmdWUgcG9zaWJsZSBhY3R1YWxpemFyIGVsIHJlZ2lzdHJvLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZGlyZWN0U2Vzc2lvbkZpbmlzaGVkID0gbGliLnZlcmlmeVNlc3Npb25GaW5pc2hlZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIDQxOVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzLmRhdGEubWVzc2FnZSA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQWxlcnQoXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwiUmVnaXN0cm8gYWN0dWFsaXphZG8gY29ycmVjdGFtZW50ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJzdWNjZXNzXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcy5kYXRhLm1lc3NhZ2UgPT0gXCJyZWFzb25cIikge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQWxlcnQoXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwiRWwgdXN1YXJpbyBubyBwb3NlZSBsb3MgcGVybWlzb3Mgc3VmaWNpZW50ZXMgcGFyYSBlc3RhIGFjY2nDs24uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicmVhc29uXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYWN0aW9uc0N1c2NhQXBpXG4gICAgICAgICAgICAgICAgLnBvc3QobnVsbCwgdGhpcy5lZGl0ZWRJdGVtKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBbGVydChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk5vIGZ1ZSBwb3NpYmxlIGNyZWFyIGVsIHJlZ2lzdHJvLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzLmRhdGEubWVzc2FnZSA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQWxlcnQoXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwiUmVnaXN0cm8gYWxtYWNlbmFkbyBjb3JyZWN0YW1lbnRlLlwiLFxuICAgICAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9LFxuXG4gICAgc2VhcmNoVmFsdWUoKSB7XG4gICAgICAgIHRoaXMucmVjb3Jkc0ZpbHRlcmVkID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoICE9IFwiXCIpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5mb3JFYWNoKChyZWNvcmQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2VhcmNoQ29uY2F0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY29yZC5hY3Rpb25fZGVzY3JpcHRpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoQ29uY2F0ICs9IHJlY29yZC5hY3Rpb25fZGVzY3JpcHRpb25baV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoQ29uY2F0ID09PSB0aGlzLnNlYXJjaC50b1VwcGVyQ2FzZSgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhdGhpcy5yZWNvcmRzRmlsdGVyZWQuc29tZSgocmVjKSA9PiByZWMgPT0gcmVjb3JkKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb3Jkc0ZpbHRlcmVkLnB1c2gocmVjb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvcmRzRmlsdGVyZWQgPSB0aGlzLnJlY29yZHM7XG4gICAgfSxcblxuICAgIHVwZGF0ZUFsZXJ0KHNob3cgPSBmYWxzZSwgdGV4dCA9IFwiQWxlcnRhXCIsIGV2ZW50ID0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgdGhpcy50ZXh0QWxlcnQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmFsZXJ0RXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5zaG93QWxlcnQgPSBzaG93O1xuICAgIH0sXG5cbiAgICB1cGRhdGVUaW1lT3V0KGV2ZW50KSB7XG4gICAgICAgIHRoaXMucmVkaXJlY3RTZXNzaW9uRmluaXNoZWQgPSBldmVudDtcbiAgICB9LFxuXG4gICAgb3Blbk1vZGFsKCkge1xuICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZWRpdGVkSXRlbS5yZXN1bHRfZGVzY3JpcHRpb24gPVxuICAgICAgICAgICAgdGhpcy5yZXN1bHRzQ3VzY2FbMF0ucmVzdWx0X2Rlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmVkaXRlZEl0ZW0udXNlcl9uYW1lID0gdGhpcy5hY3R1YWxVc2VyLnVzZXJfbmFtZTtcbiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmFjdGlvbl9kZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgICAgIHRoaXMuZWRpdGVkSXRlbS5yZXNwb25zYWJsZV9uYW1lID0gXCJcIjtcbiAgICAgICAgLy8gdGhpcy5lZGl0ZWRJdGVtLmFubnVhbF9hY3Rpb25zID0gMDtcbiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLnllYXJfZ29hbF9hY3Rpb25zID0gMDtcbiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmJ1ZGdldF9leGVjdXRlZCA9IDA7XG4gICAgICAgIHRoaXMuZWRpdGVkSXRlbS52ZXJpZmljYXRpb25fbWV0aG9kID0gXCJcIjtcbiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLmRhdGFfc291cmNlID0gXCJcIjtcbiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtLm1vbnRocyA9IHRoaXMubW9udGhzO1xuICAgICAgICB0aGlzLmVkaXRlZEl0ZW0ubW9udGhzLmZvckVhY2goKG1vbnRoKSA9PiAobW9udGgudmFsdWUgPSBmYWxzZSkpO1xuICAgICAgICB0aGlzLmVkaXRlZEl0ZW0udW5pdF9uYW1lID0gdGhpcy51bml0c1swXS51bml0X25hbWU7XG4gICAgICAgIC8vY29uc3QgbW9udGhfbmFtZSA9IG1vbWVudCgpLmZvcm1hdChcIk1NTU1cIik7XG4gICAgICAgIC8vdGhpcy5lZGl0ZWRJdGVtLm1vbnRoX25hbWUgPSBtb250aF9uYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbW9udGhfbmFtZS5zbGljZSgxKTtcblxuICAgICAgICB0aGlzLiR2LiRyZXNldCgpO1xuICAgIH0sXG5cbiAgICBudW1iZXJNb250aHMoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGlvbi5tb250aHMuZXJyb3IgPSAhdGhpcy5lZGl0ZWRJdGVtLm1vbnRocy5zb21lKFxuICAgICAgICAgICAgKGVsZW1lbnQpID0+IGVsZW1lbnQudmFsdWUgPT0gdHJ1ZVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHRoaXMuZWRpdGVkSXRlbS5hbm51YWxfYWN0aW9ucyA9IHRoaXMuZWRpdGVkSXRlbS5tb250aHMuZmlsdGVyKFxuICAgICAgICAvLyAgICAgKGVsZW1lbnQpID0+IGVsZW1lbnQudmFsdWVcbiAgICAgICAgLy8gKS5sZW5ndGg7XG4gICAgfSxcbn07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgdmVyaWZ5U2Vzc2lvbkZpbmlzaGVkOiAoc3RhdHVzLCBjb2RlID0gMjAwKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XG4gICAgICAgIGlmIChzdGF0dXMgPT0gNDE5IHx8IHN0YXR1cyA9PSA0MDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTFwiICsgc3RhdHVzKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJhY3Rpb25zQ3VzY2FBcGkiLCJjcmVhdGUiLCJiYXNlVVJMIiwibW9udGhBcGkiLCJyZXN1bHRzQ3VzY2FBcGkiLCJ1bml0QXBpIiwidXNlckFwaSIsImxpYiIsImluaXRpYWxpemUiLCJsb2FkaW5nIiwicmVjb3JkcyIsInJlY29yZHNGaWx0ZXJlZCIsInJlcXVlc3RzIiwiZ2V0IiwicGFyYW1zIiwic2tpcCIsInRha2UiLCJwb3N0IiwiUHJvbWlzZSIsImFsbCIsImVycm9yIiwidXBkYXRlQWxlcnQiLCJyZWRpcmVjdFNlc3Npb25GaW5pc2hlZCIsInZlcmlmeVNlc3Npb25GaW5pc2hlZCIsInJlc3BvbnNlIiwic3RhdHVzIiwicmVzcG9uc2VzIiwiZGF0YSIsIm1lc3NhZ2UiLCJhY3Rpb25zQ3VzY2EiLCJ1c2VycyIsInJlc3VsdHNDdXNjYSIsIm1vbnRocyIsImVkaXRlZEl0ZW0iLCJhY3R1YWxVc2VyIiwidXNlciIsInVuaXRzIiwiZWRpdEl0ZW0iLCJpdGVtIiwiZGlhbG9nIiwiZWRpdGVkSW5kZXgiLCJpbmRleE9mIiwiT2JqZWN0IiwiYXNzaWduIiwiZGVsZXRlSXRlbSIsImRpYWxvZ0RlbGV0ZSIsImRlbGV0ZUl0ZW1Db25maXJtIiwiaWQiLCJjbG9zZSIsInJlcyIsImNsb3NlRGVsZXRlIiwiJG5leHRUaWNrIiwiZGVmYXVsdEl0ZW0iLCJzYXZlIiwiJHYiLCIkdG91Y2giLCIkaW52YWxpZCIsIm51bWJlck1vbnRocyIsInB1dCIsInNlYXJjaFZhbHVlIiwic2VhcmNoIiwiZm9yRWFjaCIsInJlY29yZCIsInNlYXJjaENvbmNhdCIsImkiLCJhY3Rpb25fZGVzY3JpcHRpb24iLCJsZW5ndGgiLCJ0b1VwcGVyQ2FzZSIsInNvbWUiLCJyZWMiLCJwdXNoIiwic2hvdyIsInRleHQiLCJldmVudCIsInRleHRBbGVydCIsImFsZXJ0RXZlbnQiLCJzaG93QWxlcnQiLCJ1cGRhdGVUaW1lT3V0Iiwib3Blbk1vZGFsIiwicmVzdWx0X2Rlc2NyaXB0aW9uIiwidXNlcl9uYW1lIiwicmVzcG9uc2FibGVfbmFtZSIsInllYXJfZ29hbF9hY3Rpb25zIiwiYnVkZ2V0X2V4ZWN1dGVkIiwidmVyaWZpY2F0aW9uX21ldGhvZCIsImRhdGFfc291cmNlIiwibW9udGgiLCJ2YWx1ZSIsInVuaXRfbmFtZSIsIiRyZXNldCIsInZhbGlkYXRpb24iLCJlbGVtZW50IiwiY29kZSIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9